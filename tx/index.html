<html>
<head>
    <link rel="icon" href="https://t1.picb.cc/uploads/2020/04/22/k9c8Fg.png" type="image/x-icon">
    <title>è‡ªåŠ¨å¬å†™å·¥å…·</title>
	<meta charset="utf8">
    <script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<style>
		body {
		font-family: helvetica,Microsoft Yahei;
		font-size:18px;
		}
		
		.desc{
			margin: 1% 1% 0% 1%;
			font-size:20px;
			color:#bbb;
		}
	
		button {
		 width: 100px;
		 height: 50px;
		margin-left: 1%;
		font-size:20px;
		font-family:'STXihei';
		}
		
		#txtJSON {
			height: 40%;
			width: 98%;
			margin: 1% 1% 1% 1%;
			border-color: #ccc;
			background-color:#f8f8f8;
			line-height:150%;
			font-size:18px;
			font-family:'Verdana';
		}
		
		.display{
			margin: 1% 1% 1% 1%;
			font-family:'Verdana';
		}
		
		.meaning {
			width:330px;
			height:35%;
			position:fixed;
			right:10%;
			bottom:15%;
			iframe border:0px;
			display:block
		}
		
		label{
			font-size:20px;
			padding-left:10px;
			font-family:"Microsoft Yahei"
		}
		
		#time {
			width:50px
		}
	</style>
</head>
<body>

<div class="desc">
	<h2>ä½¿ç”¨è¯´æ˜ï¼š</br></h2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°†å•è¯æŒ‰ç…§ä¸€è¡Œä¸€è¯ç²˜è´´åˆ°ä¸‹é¢çš„è¾“å…¥æ¡†ï¼Œç‚¹å‡»â€œè½¬æ¢â€ï¼Œç„¶åä¸‹æ–¹ä¼šå‡ºç°è½¬æ¢åçš„å•è¯ï¼›å•å‡»æ¯ä¸ªå•è¯ï¼Œä¼šå‘å‡ºè¯»éŸ³ï¼Œå³è¾¹ä¼šå‡ºç°é‡Šä¹‰ã€‚</br>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®¾å®šé—´éš”æ—¶é—´ï¼Œç‚¹å‡»â€œå¬å†™â€ï¼Œå³å¯æŒ‰æ—¶é—´é—´éš”ï¼Œä¾æ¬¡è¯»å‡ºæ¯ä¸ªå•è¯ã€‚
</div>

<!------è¾“å…¥æ¡†------->
<div>
	<textarea class="form-control" id="txtJSON" placeholder="ç²˜è´´å•è¯åˆ°è¿™é‡Œ"></textarea>
</div>

<!------æŒ‰é’®1------->
<div>
<center>	
    <label for="angle-from">æ—¶é—´é—´éš”ï¼š</label>
	<input type="number" id="time" value="5" min="1">
	</br></br></br>
	<label for="angle-from">è‹±éŸ³</label> 
	<input type="radio" name="proun" value="1" checked="true">
	<label for="angle-from">ç¾éŸ³</label> 
	<input type="radio" name="proun" value="2">
	</br></br></br></br>
	<button id="convert" type="button" class="btn btn-sm" > ğŸ›è½¬æ¢ </button>
	<button id="dictation" type="button" class="btn btn-sm" > ğŸ§å¬å†™ </button>
	<!--<button id="home" type="button" class="home" > é¦–é¡µ </button>-->
	<a href="https://wr0926.ml">
    <button>ğŸ é¦–é¡µ</button>
    </a>

</div></center>

<audio id="audio" style="display:none" ></audio>

<!------ç»“æœæ¡†------->
<div class="display">
</div>

<div class="meaning">
	<iframe width="100%" height="100%" id="dictHcContent" frameborder="0" scrolling="no"></iframe>
</div>

</body>
<script type="text/javascript">

function pronance(e){
	var pn = document.getElementsByName("proun");
	var p = 1;
	for(n=0;n<pn.length;n++){
		if(pn[n].checked){
			p = pn[n].value;
		}
	}
	var audio = $("#audio");
	audio.attr("src","http://dict.youdao.com/dictvoice?audio="+$(e).attr("class")+"&type="+p);
	audio.get(0).play();
	
	$("#dictHcContent").attr("src","http://dict.cn/apis/dict3.php?q="+$(e).attr("class"));

}


//è½¬æ¢
$("button#convert").click(function(){
	
	$(".display").empty();
	var words = $('#txtJSON').val().split("\n");
	for(i=0;i<words.length;i++){
		$(".display").append("<div class='word' ><a class='"+words[i]+"' onclick='pronance(this)'>"+words[i]+"</a></div>");
	}
		
});

//å¬å†™
$("button#dictation").click(function(){
	var childs = $(".display").find("div > a");
	var pn = document.getElementsByName("proun");
	var p = 1;
	for(n=0;n<pn.length;n++){
		if(pn[n].checked){
			p = pn[n].value;
		}
	}
	var i = 0;
	var t = document.getElementById("time").value;
	function myloop(){
		setTimeout(function(){
			var audio = $("#audio");
			audio.attr("src","http://dict.youdao.com/dictvoice?audio="+$(childs[i]).attr("class")+"&type="+p);
			audio.get(0).play();
			i++;
			if(i<childs.length){
				myloop();
			}
		},1000*t);
	}
	
	myloop();

	
});
		
</script>
</html>